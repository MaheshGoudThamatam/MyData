<section data-ng-controller="BookingHotDeskController"
	data-ng-init="findOneRoom();loadCurrentUser();">
	<div class="main">
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-4 " style="padding: 0;">
					<div class="hotel-detail-map absoluteOne2">
						<div data-ng-include="'/search/views/map_view_booking.html'"></div>
						<p class="about-area-location">
							<i class="fa  fa-map-marker"></i>Old Madras road,Bangalore Near:Cafe Coffe Day
						</p>
					</div>
				</div>
				<div class="col-xs-8 main-cn bg-white clearfix process-bar">
					<div class="step">
						<!-- Step -->
						<ul class="payment-step text-center clearfix">
							<li class="step-select"><span>1</span>
								<p>Choose Your Room</p></li>
							<li class="step-part" id="step2"><span>2</span>
								<p>Your Booking &amp; Payment Details</p></li>
							<li id="step3"><span>3</span>
								<p>Booking Completed!</p></li>
						</ul>
						<!-- ENd Step -->
					</div>
					<div class="payment-details">
						<!-- Payment Room -->
						<div class="payment-room">
							<div class="row">
								<div class="col-lg-6">
									<div class="payment-info">
										<h2>{{room.spaceId.name}}</h2>
										<span class="star-room"> 3.5 Rating </span>
										<ul>
											<li><span>Location:</span>{{room.spaceId.address1}}
												{{room.spaceId.address2}} {{room.spaceId.city}}</li>
											<li><span>Booking Date:</span> {{searchObj.fromDate
												|date:'dd/MM/yyyy'}} - {{searchObj.endDate
												|date:'dd/MM/yyyy'}}</li>
											<li><span>Start Time:</span> {{dateObj.sTime}}</li>
											<li><span>End Time:</span> {{dateObj.etime}}</li>
											<li><span>Total Hours:</span> {{totalHours}} hour</li>
											<li><span>Room:</span> {{room.name}}</li>
											<li ng-if="timeType == 1"><span>Price:</span>
												Rs.{{pricePerHour}}<small> / hour</small></li>
											<li ng-if="timeType == 2"><span>Price:</span>
												Rs.{{room.pricePerhalfday}}<small> / half day</small></li>
											<li ng-if="timeType == 3"><span>Price:</span>
												Rs.{{room.pricePerfullday}}<small> / full day</small></li>
										</ul>
									</div>
								</div>
								<div class="col-lg-6">
									<div class="payment-price">

										<figure ng-repeat="img in room.images" data-ng-show="$first">
											<img src="{{img.url}}" alt="">
										</figure>
										<div class="total-trip">
											<span> 1 Room x {{totalHours}} Hours<br>
											</span>

										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- Payment Room -->

						<div class="payment-form">
							<div class="row">
								<div class="col-md-6">
									<h2>Your Information</h2>
									<div class="form-field">
										<input type="text" placeholder="Name" class="field-input"
											data-ng-model="user.first_name">
									</div>
									<div class="form-field">
										<input type="text" placeholder="Email" class="field-input"
											data-ng-model="user.email" ng-disabled="true">
									</div>
								</div>
								<div class="col-md-6"></div>

							</div>

							<div class="row" data-ng-init="">
								<div class="submit text-center">
									<div class="radio-checkbox">
										<input type="checkbox" class="checkbox" id="accept"
											data-ng-model="isAgreed"> <label for="accept">I
											agree to Terms and conditions,Booking &amp; Cancellation
											policy.</label>
									</div>

									<button class="awe-btn awe-btn-1 awe-btn-lager" id="booknow"
										data-ng-click="payBookNow(room,isAgreed);"
										data-ng-disabled="!isAgreed">Pay &amp; Book now</button>

								</div>

							</div>


						</div>
						<div class="row">
							<div class="submit text-center">
								<p class="text-center completed-text">{{error.data.error}}</p>
							</div>
						</div>
						<div data-ng-show="bookNow">

							<div class="row">
								<div class="submit text-center">
									<p class="text-center completed-text">Your booking is
										confirmed and copy of your order has been mailed to your
										registered email id.</p>
								</div>

							</div>
							<div>
								<div class="payment-room">
									<div class="row">
										<div class="col-md-12">
											<h2>Add Attendees</h2>
											<div data-ng-repeat="person in addAttendeeForm">
												<form role="form" class="form-validation"
													name="AttendeeForm" id="AttendeeForm">
													<div class="row">
														<div class="col-md-3">
															<div class="form-group"
																ng-class="{ 'has-error' : submitted && AttendeeForm.name.$invalid }">
																<label class="control-label">Name</label>
																<div class="append-icon">
																	<input type="text" name="name" class="form-control"
																		minlength="4" ng-model="attendee.name"
																		placeholder="Minimum 4 characters..." required>
																	<i class="icon-user"></i>
																</div>
															</div>

															<div ng-show="submitted && AttendeeForm.name.$invalid"
																class="help-block">
																<p ng-show="AttendeeForm.name.$error.required">Name
																	is required</p>
															</div>

														</div>
														<div class="col-md-3">
															<div class="form-group"
																ng-class="{ 'has-error' : submitted && AttendeeForm.email.$invalid }">
																<label class="control-label">Email</label>
																<div class="append-icon">
																	<input type="email" name="email" class="form-control"
																		minlength="4" ng-model="attendee.email"
																		placeholder="Minimum 4 characters..." required>
																	<i class="icon-user"></i>
																</div>
															</div>

															<div ng-show="submitted && AttendeeForm.email.$invalid"
																class="help-block">
																<p ng-show="AttendeeForm.email.$error.required">email
																	is required</p>
																<span class="error"
																	ng-show="AttendeeForm.input.$error.email"> Not
																	valid email!</span>
															</div>

														</div>
														<div class="col-md-3">
															<div class="form-group"
																ng-class="{ 'has-error' : submitted && AttendeeForm.phoneNumber.$invalid }">
																<label class="control-label">phoneNumber</label>
																<div class="append-icon">
																	<input type="number" name="phoneNumber"
																		class="form-control" ng-model="attendee.phoneNumber"
																		placeholder="10 digit number" required> <i
																		class="icon-user"></i>
																</div>
															</div>

															<div
																ng-show="submitted && AttendeeForm.phoneNumber.$invalid"
																class="help-block">
																<p ng-show="AttendeeForm.phoneNumber.$error.required">phoneNumber
																	is required</p>
															</div>

														</div>
														<div class="col-md-3">
															<div class="text-center">
																<a href="" id="next1" data-toggle="tab"
																	class="awe-btn arrow-right"
																	data-ng-click="createAttendee(AttendeeForm.$valid,attendee,booking._id)">Invite</a>
																<a href="" id="next1" data-toggle="tab"
																	class="awe-btn arrow-right"
																	data-ng-click="addAttendee()" title="Add Invities"
																	ng-show="$index == addAttendeeForm.length-1"><i
																	class="fa fa-plus"></i></a>

															</div>
														</div>
													</div>

												</form>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</section>